<template>
    <div>
      <div class="header">
        <h2>Tu Informe de Sostenibilidad CSRD</h2>
        <p>Completa los mÃ³dulos siguientes para generar tu informe de sostenibilidad conforme a la normativa CSRD.</p>
      </div>
  
      <!-- Barra de progreso -->
      <ReportProgressBar :completed="progress" />
  
      <!-- Tarjeta de progreso (opcional) -->
      <section class="panel" style="margin:24px 0">
        <h3 style="margin:0; font-size:22px; font-weight:800">Progreso del Informe</h3>
        <p style="margin:6px 0 0; color:var(--mutetext)">
          Has completado el {{ (progress*100).toFixed(0) }}% â€” {{ started }} de {{ modules.length }} mÃ³dulos iniciados
        </p>
      </section>
  
      <!-- Grilla 1/2/3 columnas -->
      <section class="grid">
        <ModuleCard v-for="m in modules" :key="m.id"
          :index="m.id" :title="m.title" :desc="m.desc" :icon="m.icon"
          @open="openModule(m.id)" />
      </section>
    </div>
  </template>
  
  <script>
  import ReportProgressBar from '../components/ReportProgressBar.vue'
  import ModuleCard from '../components/ModuleCard.vue'
  
  export default {
    components:{ ReportProgressBar, ModuleCard },
    data(){
      return {
        progress: 0.35,
        started: 1,
        modules: [
          { id: 1, title: "Marco EstratÃ©gico", desc: "Define la visiÃ³n y el propÃ³sito de tu empresa", icon: "ğŸ¯" },
          { id: 2, title: "AnÃ¡lisis de Doble Materialidad", desc: "Identifica tus temas mÃ¡s importantes", icon: "ğŸ”" },
          { id: 3, title: "DesempeÃ±o Medioambiental", desc: "Reporta tus datos sobre Ejes E", icon: "ğŸƒ" },
          { id: 4, title: "DesempeÃ±o Social", desc: "Reporta tus datos sobre Ejes S", icon: "ğŸ‘¥" },
          { id: 5, title: "Gobernanza", desc: "Reporta tus datos sobre Ejes G", icon: "ğŸ›¡ï¸" },
          { id: 6, title: "Finanzas Sostenibles", desc: "Calcula tus KPIs de la TaxonomÃ­a UE", icon: "ğŸ¦" },
        ]
      }
    },
    methods:{
      openModule(id){ this.$router.push(`/modulos/${id}`) }
    }
  }
  </script>
  